# =====================================================
# Construction Intelligence Platform - Production Environment
# =====================================================
# This is a template for production environment variables
# NEVER commit actual secrets to version control
# Use GitHub Secrets, AWS Secrets Manager, or similar

# =====================================================
# APPLICATION SETTINGS
# =====================================================
APP_NAME="BuildIntel Pro"
APP_VERSION="1.0.0"
ENVIRONMENT="production"
DEBUG=false

# =====================================================
# API CONFIGURATION
# =====================================================
API_V1_PREFIX="/api/v1"
SECRET_KEY=<GENERATE_STRONG_RANDOM_SECRET_KEY>
ALGORITHM="HS256"
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# =====================================================
# DATABASE - PostgreSQL
# =====================================================
# Use managed database service (AWS RDS, Azure Database, etc.)
POSTGRES_USER=buildintel_prod
POSTGRES_PASSWORD=<VERY_SECURE_POSTGRES_PASSWORD>
POSTGRES_DB=construction_intel_prod
POSTGRES_PORT=5432
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@your-rds-endpoint:5432/${POSTGRES_DB}?sslmode=require

# Database connection pool
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=40

# =====================================================
# REDIS CACHE
# =====================================================
# Use managed Redis (AWS ElastiCache, Azure Cache, etc.)
REDIS_PASSWORD=<VERY_SECURE_REDIS_PASSWORD>
REDIS_PORT=6379
REDIS_URL=redis://:${REDIS_PASSWORD}@your-redis-endpoint:6379/0
CACHE_TTL=3600

# =====================================================
# OPENAI API
# =====================================================
OPENAI_API_KEY=<YOUR_PRODUCTION_OPENAI_API_KEY>
OPENAI_MODEL="gpt-4o"
OPENAI_EMBEDDING_MODEL="text-embedding-3-large"

# =====================================================
# DOCKER REGISTRY
# =====================================================
REGISTRY=ghcr.io
IMAGE_NAME=construction-intel
TAG=production

# =====================================================
# DEPLOYMENT
# =====================================================
BACKEND_PORT=8000
FRONTEND_PORT=80
BACKEND_REPLICAS=4
FRONTEND_REPLICAS=3

FRONTEND_URL=https://app.construction-intel.com
BACKEND_URL=https://api.construction-intel.com
VITE_API_URL=https://api.construction-intel.com

# =====================================================
# CORS
# =====================================================
CORS_ORIGINS=https://app.construction-intel.com,https://construction-intel.com

# =====================================================
# LOGGING & MONITORING
# =====================================================
LOG_LEVEL="WARNING"
SENTRY_DSN=<YOUR_PRODUCTION_SENTRY_DSN>
SENTRY_ENVIRONMENT="production"
SENTRY_TRACES_SAMPLE_RATE=0.01

# =====================================================
# SECURITY
# =====================================================
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE="strict"

PASSWORD_MIN_LENGTH=12
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_DIGIT=true
PASSWORD_REQUIRE_SPECIAL=true

# =====================================================
# FEATURE FLAGS
# =====================================================
ENABLE_API_DOCS=false
ENABLE_SWAGGER_UI=false
ENABLE_REDOC=false
ENABLE_SQL_ECHO=false

# =====================================================
# RATE LIMITING
# =====================================================
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000
RATE_LIMIT_PER_DAY=10000

# =====================================================
# NOTIFICATIONS
# =====================================================
SLACK_WEBHOOK_URL=<YOUR_PRODUCTION_SLACK_WEBHOOK>

# =====================================================
# DATA SOURCES (Production APIs)
# =====================================================
PERMITS_API_URL=https://api.permits-provider.com/v1
PERMITS_API_KEY=<PRODUCTION_PERMITS_API_KEY>
TENDERS_API_URL=https://api.tenders-provider.com/v1
TENDERS_API_KEY=<PRODUCTION_TENDERS_API_KEY>
NEWS_API_URL=https://newsapi.org/v2
NEWS_API_KEY=<YOUR_NEWS_API_KEY>

# =====================================================
# MONETIZATION
# =====================================================
MONETIZATION_API_KEY=<YOUR_PRODUCTION_MONETIZATION_API_KEY>
MONETIZATION_ENDPOINT=https://api.construction-intel.com/monetize

# =====================================================
# EMAIL (Production - SendGrid/AWS SES)
# =====================================================
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASSWORD=<YOUR_PRODUCTION_SENDGRID_API_KEY>
SMTP_FROM_EMAIL=noreply@construction-intel.com
SMTP_FROM_NAME="BuildIntel Pro"

# =====================================================
# STRIPE (Live Mode)
# =====================================================
STRIPE_PUBLIC_KEY=pk_live_<YOUR_LIVE_KEY>
STRIPE_SECRET_KEY=sk_live_<YOUR_LIVE_KEY>
STRIPE_WEBHOOK_SECRET=whsec_<YOUR_LIVE_WEBHOOK_SECRET>

# Subscription price IDs
STRIPE_PRICE_ID_PROFESSIONAL=price_<YOUR_PROFESSIONAL_PRICE_ID>
STRIPE_PRICE_ID_ENTERPRISE=price_<YOUR_ENTERPRISE_PRICE_ID>

# =====================================================
# BACKUP & DISASTER RECOVERY
# =====================================================
# AWS S3 for backups
AWS_S3_BUCKET=<YOUR_BACKUP_BUCKET>
AWS_ACCESS_KEY_ID=<YOUR_AWS_ACCESS_KEY>
AWS_SECRET_ACCESS_KEY=<YOUR_AWS_SECRET_KEY>
AWS_REGION=us-east-1

# Backup retention
BACKUP_RETENTION_DAYS=90
