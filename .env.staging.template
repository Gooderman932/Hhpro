# =====================================================
# Construction Intelligence Platform - Staging Environment
# =====================================================
# This is a template for staging environment variables
# Copy values to your secrets management system

# =====================================================
# APPLICATION SETTINGS
# =====================================================
APP_NAME="BuildIntel Pro"
APP_VERSION="1.0.0"
ENVIRONMENT="staging"
DEBUG=false

# =====================================================
# API CONFIGURATION
# =====================================================
API_V1_PREFIX="/api/v1"
SECRET_KEY=<GENERATE_RANDOM_SECRET_KEY_HERE>
ALGORITHM="HS256"
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# =====================================================
# DATABASE - PostgreSQL
# =====================================================
POSTGRES_USER=buildintel_staging
POSTGRES_PASSWORD=<SECURE_POSTGRES_PASSWORD>
POSTGRES_DB=construction_intel_staging
POSTGRES_PORT=5432
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@postgres:5432/${POSTGRES_DB}

# =====================================================
# REDIS CACHE
# =====================================================
REDIS_PASSWORD=<SECURE_REDIS_PASSWORD>
REDIS_PORT=6379
REDIS_URL=redis://:${REDIS_PASSWORD}@redis:6379/0
CACHE_TTL=3600

# =====================================================
# OPENAI API
# =====================================================
OPENAI_API_KEY=<YOUR_OPENAI_API_KEY>
OPENAI_MODEL="gpt-4o-mini"
OPENAI_EMBEDDING_MODEL="text-embedding-3-small"

# =====================================================
# DOCKER REGISTRY
# =====================================================
REGISTRY=ghcr.io
IMAGE_NAME=construction-intel
TAG=staging

# =====================================================
# DEPLOYMENT
# =====================================================
BACKEND_PORT=8000
FRONTEND_PORT=80
BACKEND_REPLICAS=2
FRONTEND_REPLICAS=2

FRONTEND_URL=https://staging.construction-intel.com
BACKEND_URL=https://api-staging.construction-intel.com
VITE_API_URL=https://api-staging.construction-intel.com

# =====================================================
# CORS
# =====================================================
CORS_ORIGINS=https://staging.construction-intel.com,http://localhost:5173

# =====================================================
# LOGGING & MONITORING
# =====================================================
LOG_LEVEL="INFO"
SENTRY_DSN=<YOUR_SENTRY_DSN>
SENTRY_ENVIRONMENT="staging"
SENTRY_TRACES_SAMPLE_RATE=0.1

# =====================================================
# FEATURE FLAGS
# =====================================================
ENABLE_API_DOCS=true
ENABLE_SWAGGER_UI=true
ENABLE_REDOC=true
ENABLE_SQL_ECHO=false

# =====================================================
# NOTIFICATIONS
# =====================================================
SLACK_WEBHOOK_URL=<YOUR_SLACK_WEBHOOK_URL>

# =====================================================
# DATA SOURCES (Staging APIs)
# =====================================================
PERMITS_API_URL=https://staging-api.permits-provider.com/v1
PERMITS_API_KEY=<STAGING_PERMITS_API_KEY>
TENDERS_API_URL=https://staging-api.tenders-provider.com/v1
TENDERS_API_KEY=<STAGING_TENDERS_API_KEY>
NEWS_API_URL=https://newsapi.org/v2
NEWS_API_KEY=<YOUR_NEWS_API_KEY>

# =====================================================
# MONETIZATION
# =====================================================
MONETIZATION_API_KEY=<YOUR_MONETIZATION_API_KEY>
MONETIZATION_ENDPOINT=https://api-staging.construction-intel.com/monetize

# =====================================================
# EMAIL (SendGrid/Mailgun)
# =====================================================
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASSWORD=<YOUR_SENDGRID_API_KEY>
SMTP_FROM_EMAIL=noreply-staging@construction-intel.com
SMTP_FROM_NAME="BuildIntel Pro - Staging"

# =====================================================
# STRIPE (Test Mode)
# =====================================================
STRIPE_PUBLIC_KEY=pk_test_<YOUR_TEST_KEY>
STRIPE_SECRET_KEY=sk_test_<YOUR_TEST_KEY>
STRIPE_WEBHOOK_SECRET=whsec_<YOUR_TEST_WEBHOOK_SECRET>
